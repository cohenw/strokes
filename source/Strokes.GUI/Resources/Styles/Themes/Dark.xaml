<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    xmlns:local="clr-namespace:Strokes.GUI"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    mc:Ignorable="d">

    <!--  Converters  -->
    <local:StringToImageSourceConverter x:Key="StringToImageSourceConverter" />
    <local:BoolToImageUriConverter x:Key="BoolToImageUriConverter" />
    <local:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
    <local:NullToVisibilityConverter x:Key="NullToVisibilityConverter" />
    <local:BoolToOpacityConverter x:Key="BoolToOpacityConverter" />
    <local:EmptyToVisibilityConverter x:Key="EmptyToVisibilityConverter" />

    <!--  Brushes  -->
    <SolidColorBrush x:Key="AchievementDarkBackground"
                     Color="#FF262626" />

    <SolidColorBrush x:Key="AchievementLightBackground"
                     Color="#FF383635" />

    <SolidColorBrush x:Key="AchievementForeground"
                     Color="White" />

    <SolidColorBrush x:Key="AchievementBorder"
                     Color="#FF4D4B48" />

    <SolidColorBrush x:Key="AchievementSubtleFontColor"
                     Color="#FFCBCBCB" />

    <LinearGradientBrush x:Key="AchievementTabItemSelectedBackground" StartPoint="0.5,0" EndPoint="0.5,1">
        <GradientStop Offset="0.6" Color="#FF8AB7DE" />
        <GradientStop Color="#FF537494" />
    </LinearGradientBrush>

    <SolidColorBrush x:Key="AchievementTabItemBackground"
                     Color="#FF6E6A69" />

    <SolidColorBrush x:Key="ListBoxItemSelectedColor"
                     Color="#FF4D6D8C" />

    <SolidColorBrush x:Key="ProgressBarIndicatorColor"
                     Color="#FF4D6D8C" />

    <SolidColorBrush x:Key="AchievementItemSelectedForeground"
                     Color="Black" />

    <SolidColorBrush x:Key="SelectedListBoxItemBackground"
                     Color="Honeydew" />

    <SolidColorBrush x:Key="ScrollBarUpDownBorder"
                     Color="#FF575552" />

    <SolidColorBrush x:Key="ScrollBarUpDownTriangleStroke"
                     Color="#FF63605E" />
    <SolidColorBrush x:Key="ScrollBarUpDownTriangleFill"
                     Color="#FFAFADAD" />

    <SolidColorBrush x:Key="ScrollBarThumbBackground"
                     Color="#FF474542" />

    <SolidColorBrush x:Key="ButtonBorderBrush"
                     Color="#FFB1AFAC" />

    <LinearGradientBrush x:Key="ButtonBackgroundBrush" StartPoint="0.5,0" EndPoint="0.5,1">
        <GradientStop Offset="1" Color="#FF454545" />
        <GradientStop Offset="0.48" Color="#FF6B6866" />
    </LinearGradientBrush>

    <SolidColorBrush x:Key="ScrollBarBackground"
                     Color="#FF171614" />

    <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}"
                     Color="Transparent" />

    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}"
                     Color="Transparent" />

    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}"
                     Color="Transparent" />

    <Style TargetType="{x:Type TextBlock}">
        <Setter Property="Foreground" Value="{StaticResource AchievementForeground}" />
        <Setter Property="FontSize" Value="12" />
    </Style>

    <Thickness x:Key="AchievementControlMargin"
               Bottom="10"
               Left="10"
               Right="10"
               Top="10" />

    <Thickness x:Key="AchievementsListBoxMargin"
               Bottom="10"
               Left="10"
               Right="10"
               Top="10" />

    <Style TargetType="{x:Type ListBox}">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    </Style>

    <Style TargetType="{x:Type ListBoxItem}">
        <Setter Property="Background" Value="{StaticResource AchievementLightBackground}" />
        <Setter Property="Margin" Value="0,0,0,4" />
    </Style>

    <Style x:Key="AchievementTabItemStyle"
           TargetType="{x:Type TabItem}">
        <Setter Property="Foreground" Value="{StaticResource AchievementForeground}" />
        <Setter Property="Padding" Value="6,1,6,1" />
        <Setter Property="BorderBrush" Value="{StaticResource AchievementBorder}" />
        <Setter Property="Width" Value="121" />
        <Setter Property="Height" Value="42" />
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <Setter Property="VerticalContentAlignment" Value="Stretch" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TabItem}">
                    <Grid ClipToBounds="True">
                        <Border x:Name="PART_Border"
                                Margin="0,0,2,0">
                            <Grid>
                                <ContentPresenter x:Name="PART_Content"
                                                  HorizontalAlignment="{Binding HorizontalContentAlignment,
                                                                                RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"
                                                  VerticalAlignment="{Binding VerticalContentAlignment,
                                                                              RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"
                                                  ContentSource="Header"
                                                  RecognizesAccessKey="True" />
                            </Grid>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Panel.ZIndex" Value="1" />
                            <Setter TargetName="PART_Border" Property="Background" Value="{StaticResource AchievementTabItemSelectedBackground}" />
                        </Trigger>
                        <Trigger Property="IsSelected" Value="False">
                            <Setter Property="Foreground" Value="{StaticResource AchievementForeground}" />
                            <Setter TargetName="PART_Border" Property="Background" Value="{StaticResource AchievementTabItemBackground}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <DataTemplate x:Key="AchievementNotificationTemplate">
        <Border Margin="0,0,0,4"
                BorderBrush="{DynamicResource AchievementBorder}"
                BorderThickness="0,0,1,0">
            <Grid Background="{StaticResource AchievementDarkBackground}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <local:AchievementTemplateControl Grid.Column="0"
                                               MaxWidth="400"
                                               Margin="5"
                                               HorizontalAlignment="Left" />
                <Grid x:Name="PART_MagnifierGlassPath"
                      Grid.Column="1"
                      Width="Auto"
                      Height="21.312"
                      Margin="0,15,15,0"
                      HorizontalAlignment="Stretch"
                      VerticalAlignment="Top"
                      Background="{StaticResource AchievementDarkBackground}"
                      Cursor="Hand"
                      IsHitTestVisible="True"
                      Visibility="{Binding CodeLocation,
                                           Converter={StaticResource NullToVisibilityConverter}}">
                    <Path Grid.Column="0"
                          Width="21.281"
                          Height="21.312"
                          Margin="0"
                          HorizontalAlignment="Right"
                          VerticalAlignment="Bottom"
                          Data="M13.355999,2.4260275 C10.891003,2.4260275 8.6430016,4.1030302 8.0249977,6.6110267 7.9149976,7.0510292 7.8650022,7.4900245 7.8650022,7.9260296 7.8650022,8.9778861 8.1822872,9.9822931 8.7278671,10.845332 L8.8398028,11.015727 C9.2167978,11.567775 9.6857634,12.055811 10.245722,12.442841 10.376962,12.943878 10.316966,13.484294 10.058986,13.945532 L10.022842,14.005359 10.059249,13.945167 C10.317251,13.484391 10.377251,12.94403 10.245998,12.443029 10.777996,12.810003 11.379002,13.095008 12.044002,13.259009 12.484996,13.368018 12.926998,13.417029 13.362003,13.417029 15.828999,13.417029 18.080996,11.74201 18.693995,9.2350215 18.803995,8.7900133 18.853998,8.3490037 18.853998,7.9150128 18.853998,5.4510226 17.177998,3.2000145 14.672999,2.5870075 14.23,2.4770224 13.790996,2.4260275 13.355999,2.4260275 z M13.355999,1.2176865E-06 C13.980999,1.1122771E-06 14.621998,0.074006274 15.257,0.23202649 18.862001,1.123018 21.281,4.3520231 21.281,7.9150128 21.281,8.5440111 21.204996,9.1820125 21.050997,9.8150081 L19.873995,9.5260066 21.050997,9.8170223 C20.157999,13.427009 16.925999,15.845009 13.362003,15.845009 12.733996,15.845009 12.097996,15.770027 11.464999,15.613014 10.705997,15.426033 10.016003,15.115028 9.3739967,14.740027 L9.4584656,14.654618 9.373786,14.740014 9.373291,14.739714 3.455858,20.713999 C3.0608482,21.112999 2.5408356,21.312 2.0208232,21.312 1.5068104,21.312 0.99279816,21.118 0.59778816,20.726999 -0.19323081,19.942999 -0.20123119,18.661999 0.58578796,17.868998 L6.5189328,11.880995 C6.646061,12.100557 6.7837362,12.31358 6.9314375,12.519425 L7.0677848,12.703085 6.9314618,12.51937 C6.833004,12.382091 6.7390018,12.241631 6.6496096,12.098185 L6.5190811,11.880938 C5.8329969,10.695012 5.4380002,9.3410091 5.4380002,7.9260296 5.4380002,7.299015 5.5119977,6.6620216 5.669003,6.0280189 6.5649991,2.4200155 9.7899971,-0.001982531 13.355999,1.2176865E-06 z"
                          Fill="White"
                          IsHitTestVisible="False"
                          Stretch="Fill" />
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>

    <DataTemplate x:Key="AchievementTemplate">
        <Border Margin="0,0,0,4"
                BorderBrush="{StaticResource AchievementBorder}"
                BorderThickness="1">
            <Grid Background="{StaticResource AchievementDarkBackground}"
                  Opacity="{Binding IsCompleted,
                                    Converter={StaticResource BoolToOpacityConverter}}">
                <local:AchievementTemplateControl Grid.Column="0"
                                               Margin="5,5,40,5"
                                               Foreground="{DynamicResource AchievementForeground}" />
                <StackPanel Grid.Column="1"
                            Margin="300,10,10,10"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top">
                    <TextBlock HorizontalAlignment="Left"
                               VerticalAlignment="Top"
                               Foreground="{StaticResource AchievementSubtleFontColor}"
                               Visibility="{Binding IsCompleted,
                                                    Converter={StaticResource BoolToVisibilityConverter}}"><Run Text="Unlocked:" /><Run Text=" " /><Run Text=" " /><Run Text=" " /><Run Text="{Binding DateCompleted, FallbackValue=''}" />
                    </TextBlock>
                </StackPanel>
                <Path Width="23"
                      Height="20"
                      Margin="0,34.364,10,21.197"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Bottom"
                      Data="F1M519.168,149.8125L518.391,148.9655C518.184,148.7405,518.195,148.3865,518.421,148.1795L520.684,146.0785C520.784,145.9825,520.919,145.9295,521.059,145.9295C521.219,145.9295,521.361,145.9925,521.468,146.1055L527.679,152.7925L538.359,139.0465C538.466,138.9155,538.626,138.8365,538.8,138.8365C538.927,138.8365,539.044,138.8765,539.143,138.9545L541.581,140.8475C541.697,140.9375,541.772,141.0685,541.79,141.2185C541.811,141.3675,541.77,141.5135,541.679,141.6275L527.953,159.2755z"
                      Fill="Lime"
                      Stretch="Fill"
                      Visibility="{Binding IsCompleted,
                                           ConverterParameter=True,
                                           Converter={StaticResource BoolToVisibilityConverter}}" />
                <Path Width="20"
                      Height="20"
                      Margin="0,34.364,10,21.197"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Stretch"
                      Data="M15.381998,0 L18.245998,2.8769992 12.001545,9.0962803 18.136998,15.255987 15.261998,18.116995 9.1275464,11.958695 2.8639997,18.196993 0,15.321995 6.2632071,9.0832198 0.085997172,2.8819945 2.9609967,0.019995081 9.1371127,6.220525 z"
                      Fill="Red"
                      Stretch="Fill"
                      Visibility="{Binding IsCompleted,
                                           ConverterParameter=False,
                                           Converter={StaticResource BoolToVisibilityConverter}}" />
            </Grid>
        </Border>
    </DataTemplate>

    <DataTemplate x:Key="CategoryTemplate">
        <Grid x:Name="PART_Background">
            <Border Margin="3,0,0,0"
                    Background="{StaticResource AchievementDarkBackground}"
                    BorderBrush="{DynamicResource AchievementBorder}"
                    BorderThickness="1">
                <Grid Margin="10, 3, 10, 3">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0"
                               FontSize="12"
                               Foreground="White"
                               Text="{Binding CategoryName}" />
                    <TextBlock Grid.Column="1"
                               Margin="10,0,0,0"
                               FontSize="12"
                               Foreground="White"
                               TextAlignment="Right"><Run Text="(" /><Run Text=" " /><Run Text="{Binding TotalCompleted, Mode=OneWay}" /><Run Text=" " /><Run Text="/" /><Run Text=" " /><Run Text="{Binding Count, Mode=OneWay}" /><Run Text=" " /><Run Text=")" />
                    </TextBlock>
                </Grid>
            </Border>
        </Grid>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsSelected,
                                           RelativeSource={RelativeSource AncestorType={x:Type ListBoxItem},
                                                                          Mode=FindAncestor}}"
                         Value="True">
                <Setter TargetName="PART_Background" Property="Background" Value="{StaticResource ListBoxItemSelectedColor}" />
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>

    <Style x:Key="AchievementTabControlStyle"
           TargetType="{x:Type TabControl}">
        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
        <Setter Property="Padding" Value="4,4,4,4" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="BorderBrush" Value="{StaticResource AchievementBorder}" />
        <Setter Property="Background" Value="White" />
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type TabControl}">
                    <Grid ClipToBounds="true"
                          KeyboardNavigation.TabNavigation="Local"
                          SnapsToDevicePixels="true">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition x:Name="ColumnDefinition0" />
                            <ColumnDefinition x:Name="ColumnDefinition1"
                                              Width="0" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition x:Name="RowDefinition0"
                                           Height="Auto" />
                            <RowDefinition x:Name="RowDefinition1"
                                           Height="*" />
                        </Grid.RowDefinitions>
                        <TabPanel x:Name="HeaderPanel"
                                  Grid.Row="1"
                                  Height="42"
                                  Margin="0"
                                  VerticalAlignment="Top"
                                  Panel.ZIndex="1"
                                  IsItemsHost="true"
                                  KeyboardNavigation.TabIndex="1" />
                        <Border x:Name="ContentPanel"
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="0,50,0,0"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                KeyboardNavigation.DirectionalNavigation="Contained"
                                KeyboardNavigation.TabIndex="2"
                                KeyboardNavigation.TabNavigation="Local">
                            <ContentPresenter x:Name="PART_SelectedContentHost"
                                              Margin="{TemplateBinding Padding}"
                                              ContentSource="SelectedContent"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="TabStripPlacement" Value="Bottom">
                            <Setter TargetName="HeaderPanel" Property="Grid.Row" Value="1" />
                            <Setter TargetName="ContentPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="RowDefinition0" Property="Height" Value="*" />
                            <Setter TargetName="RowDefinition1" Property="Height" Value="Auto" />
                            <Setter TargetName="HeaderPanel" Property="Margin" Value="2,0,2,2" />
                        </Trigger>
                        <Trigger Property="TabStripPlacement" Value="Left">
                            <Setter TargetName="HeaderPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="ContentPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="HeaderPanel" Property="Grid.Column" Value="0" />
                            <Setter TargetName="ContentPanel" Property="Grid.Column" Value="1" />
                            <Setter TargetName="ColumnDefinition0" Property="Width" Value="Auto" />
                            <Setter TargetName="ColumnDefinition1" Property="Width" Value="*" />
                            <Setter TargetName="RowDefinition0" Property="Height" Value="*" />
                            <Setter TargetName="RowDefinition1" Property="Height" Value="0" />
                            <Setter TargetName="HeaderPanel" Property="Margin" Value="2,2,0,2" />
                        </Trigger>
                        <Trigger Property="TabStripPlacement" Value="Right">
                            <Setter TargetName="HeaderPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="ContentPanel" Property="Grid.Row" Value="0" />
                            <Setter TargetName="HeaderPanel" Property="Grid.Column" Value="1" />
                            <Setter TargetName="ContentPanel" Property="Grid.Column" Value="0" />
                            <Setter TargetName="ColumnDefinition0" Property="Width" Value="*" />
                            <Setter TargetName="ColumnDefinition1" Property="Width" Value="Auto" />
                            <Setter TargetName="RowDefinition0" Property="Height" Value="*" />
                            <Setter TargetName="RowDefinition1" Property="Height" Value="0" />
                            <Setter TargetName="HeaderPanel" Property="Margin" Value="0,2,2,2" />
                        </Trigger>
                        <Trigger Property="IsEnabled" Value="false">
                            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <ControlTemplate x:Key="AchievementListBoxControlTemplate"
                     TargetType="{x:Type ListBox}">
        <Border x:Name="Bd"
                Background="{TemplateBinding Background}"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="{TemplateBinding BorderThickness}"
                Padding="1"
                SnapsToDevicePixels="True">
            <ScrollViewer Focusable="False"
                          Padding="{TemplateBinding Padding}"
                          PanningMode="Both"
                          VerticalScrollBarVisibility="Disabled">
                <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
            </ScrollViewer>
        </Border>
        <ControlTemplate.Triggers>
            <Trigger Property="IsEnabled" Value="False">
                <Setter TargetName="Bd" Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />
            </Trigger>
            <Trigger Property="IsGrouping" Value="True">
                <Setter Property="ScrollViewer.CanContentScroll" Value="False" />
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style x:Key="AchievementProgressBarStyle"
           TargetType="{x:Type ProgressBar}">
        <Setter Property="Foreground" Value="White" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ProgressBar}">
                    <Grid x:Name="TemplateRoot"
                          SnapsToDevicePixels="true">
                        <Rectangle Fill="{TemplateBinding Background}"
                                   RadiusX="0"
                                   RadiusY="0"
                                   StrokeThickness="0" />
                        <Border Margin="1"
                                CornerRadius="0" />
                        <Border Margin="1"
                                BorderBrush="{x:Null}"
                                BorderThickness="1,0,1,1" />
                        <Rectangle x:Name="PART_Track"
                                   Margin="1" />
                        <Decorator x:Name="PART_Indicator"
                                   Margin="1"
                                   HorizontalAlignment="Left">
                            <Grid x:Name="Foreground"
                                  Margin="2">
                                <Rectangle x:Name="Indicator"
                                           Fill="{StaticResource ProgressBarIndicatorColor}" />
                            </Grid>
                        </Decorator>
                        <Border BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="0" />
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="Orientation" Value="Vertical">
                            <Setter TargetName="TemplateRoot" Property="LayoutTransform">
                                <Setter.Value>
                                    <RotateTransform Angle="-90" />
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsIndeterminate" Value="true">
                            <Setter TargetName="Indicator" Property="Visibility" Value="Collapsed" />
                        </Trigger>
                        <Trigger Property="IsIndeterminate" Value="false" />
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ButtonFocusVisual">
        <Setter Property="Control.Template">
            <Setter.Value>
                <ControlTemplate>
                    <Rectangle Margin="2"
                               SnapsToDevicePixels="true"
                               Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"
                               StrokeDashArray="1 2"
                               StrokeThickness="1" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="AchievementButtonStyle"
           TargetType="{x:Type Button}">
        <Setter Property="FocusVisualStyle" Value="{StaticResource ButtonFocusVisual}" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
        <Setter Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
        <Setter Property="BorderBrush" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
        <Setter Property="HorizontalContentAlignment" Value="Center" />
        <Setter Property="VerticalContentAlignment" Value="Center" />
        <Setter Property="Padding" Value="1" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Button}">
                    <Border x:Name="PART_Border"
                            Background="{StaticResource ButtonBackgroundBrush}"
                            BorderBrush="{StaticResource ButtonBorderBrush}"
                            BorderThickness="1"
                            CornerRadius="1"
                            Padding="10,5">
                        <ContentPresenter Margin="{TemplateBinding Padding}"
                                          HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                          VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                          RecognizesAccessKey="True"
                                          SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="PART_Border" Property="Background" Value="{StaticResource AchievementTabItemSelectedBackground}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <ControlTemplate x:Key="AchievementScrollViewerControlTemplate"
                     TargetType="{x:Type ScrollViewer}">
        <Grid x:Name="Grid"
              Background="{TemplateBinding Background}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Rectangle x:Name="Corner"
                       Grid.Row="1"
                       Grid.Column="1"
                       d:IsHidden="True"
                       Fill="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />
            <ScrollContentPresenter x:Name="PART_ScrollContentPresenter"
                                    Grid.Row="0"
                                    Grid.Column="0"
                                    Margin="{TemplateBinding Padding}"
                                    CanContentScroll="{TemplateBinding CanContentScroll}"
                                    CanHorizontallyScroll="False"
                                    CanVerticallyScroll="False"
                                    Content="{TemplateBinding Content}"
                                    ContentTemplate="{TemplateBinding ContentTemplate}" />
            <ScrollBar x:Name="PART_VerticalScrollBar"
                       Grid.Row="0"
                       Grid.Column="1"
                       AutomationProperties.AutomationId="VerticalScrollBar"
                       Cursor="Arrow"
                       Maximum="{TemplateBinding ScrollableHeight}"
                       Minimum="0"
                       Style="{DynamicResource AchievementScrollBarStyle}"
                       ViewportSize="{TemplateBinding ViewportHeight}"
                       Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"
                       Value="{Binding VerticalOffset,
                                       Mode=OneWay,
                                       RelativeSource={RelativeSource TemplatedParent}}" />
            <ScrollBar x:Name="PART_HorizontalScrollBar"
                       Grid.Row="1"
                       Grid.Column="0"
                       AutomationProperties.AutomationId="HorizontalScrollBar"
                       Cursor="Arrow"
                       Maximum="{TemplateBinding ScrollableWidth}"
                       Minimum="0"
                       Orientation="Horizontal"
                       ViewportSize="{TemplateBinding ViewportWidth}"
                       Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"
                       Value="{Binding HorizontalOffset,
                                       Mode=OneWay,
                                       RelativeSource={RelativeSource TemplatedParent}}" />
        </Grid>
    </ControlTemplate>

    <Style x:Key="ScrollBarUpButton"
           TargetType="{x:Type RepeatButton}">
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="IsTabStop" Value="false" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Border Margin="2"
                            Background="{StaticResource ScrollBarUpDownBorder}"
                            CornerRadius="1"
                            Padding="0">
                        <Polygon Margin="0,-4,0,0"
                                 HorizontalAlignment="Center"
                                 VerticalAlignment="Center"
                                 Fill="{StaticResource ScrollBarUpDownTriangleFill}"
                                 Points="0,8 4,4 8,8 0,8"
                                 Stroke="{StaticResource ScrollBarUpDownTriangleStroke}"
                                 StrokeThickness="0" />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ScrollBarDownButton"
           TargetType="{x:Type RepeatButton}">
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="IsTabStop" Value="false" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Border Margin="2"
                            Background="{StaticResource ScrollBarUpDownBorder}"
                            CornerRadius="1"
                            Padding="0">
                        <Polygon Margin="0,0,0,0"
                                 HorizontalAlignment="Center"
                                 VerticalAlignment="Center"
                                 Fill="{StaticResource ScrollBarUpDownTriangleFill}"
                                 Points="0,0 4,4 8,0 0,0"
                                 Stroke="{StaticResource ScrollBarUpDownTriangleStroke}"
                                 StrokeThickness="0" />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="VerticalScrollBarPageButton"
           TargetType="{x:Type RepeatButton}">
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="IsTabStop" Value="false" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Rectangle Width="{TemplateBinding Width}"
                               Height="{TemplateBinding Height}"
                               Fill="{TemplateBinding Background}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ScrollBarThumb"
           TargetType="{x:Type Thumb}">
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="IsTabStop" Value="false" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Border Margin="2"
                            Background="{StaticResource ScrollBarThumbBackground}"
                            CornerRadius="1" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="HorizontalScrollBarPageButton"
           TargetType="{x:Type RepeatButton}">
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="IsTabStop" Value="false" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type RepeatButton}">
                    <Rectangle Width="{TemplateBinding Width}"
                               Height="{TemplateBinding Height}"
                               Fill="{TemplateBinding Background}" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="AchievementScrollBarStyle"
           TargetType="{x:Type ScrollBar}">
        <Setter Property="Background" Value="{StaticResource ScrollBarBackground}" />
        <Setter Property="Stylus.IsPressAndHoldEnabled" Value="false" />
        <Setter Property="Stylus.IsFlicksEnabled" Value="false" />
        <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" />
        <Setter Property="Width" Value="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" />
        <Setter Property="MinWidth" Value="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ScrollBar}">
                    <Grid x:Name="Bg"
                          Background="{StaticResource ScrollBarBackground}"
                          SnapsToDevicePixels="true">
                        <Grid.RowDefinitions>
                            <RowDefinition MaxHeight="{DynamicResource {x:Static SystemParameters.VerticalScrollBarButtonHeightKey}}" />
                            <RowDefinition Height="0.00001*" />
                            <RowDefinition MaxHeight="{DynamicResource {x:Static SystemParameters.VerticalScrollBarButtonHeightKey}}" />
                        </Grid.RowDefinitions>
                        <RepeatButton Command="{x:Static ScrollBar.LineUpCommand}"
                                      IsEnabled="{TemplateBinding IsMouseOver}"
                                      Style="{StaticResource ScrollBarUpButton}" />
                        <Track x:Name="PART_Track"
                               Grid.Row="1"
                               IsDirectionReversed="true"
                               IsEnabled="{TemplateBinding IsMouseOver}">
                            <Track.DecreaseRepeatButton>
                                <RepeatButton Command="{x:Static ScrollBar.PageUpCommand}"
                                              Style="{StaticResource VerticalScrollBarPageButton}" />
                            </Track.DecreaseRepeatButton>
                            <Track.IncreaseRepeatButton>
                                <RepeatButton Command="{x:Static ScrollBar.PageDownCommand}"
                                              Style="{StaticResource VerticalScrollBarPageButton}" />
                            </Track.IncreaseRepeatButton>
                            <Track.Thumb>
                                <Thumb Style="{StaticResource ScrollBarThumb}" />
                            </Track.Thumb>
                        </Track>
                        <RepeatButton Grid.Row="2"
                                      Command="{x:Static ScrollBar.LineDownCommand}"
                                      IsEnabled="{TemplateBinding IsMouseOver}"
                                      Style="{StaticResource ScrollBarDownButton}" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="Orientation" Value="Horizontal">
                <Setter Property="Width" Value="Auto" />
                <Setter Property="MinWidth" Value="0" />
                <Setter Property="Background" Value="{StaticResource ScrollBarBackground}" />
                <Setter Property="Height" Value="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarHeightKey}}" />
                <Setter Property="MinHeight" Value="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarHeightKey}}" />
                <Setter Property="Background" Value="{StaticResource ScrollBarBackground}" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ScrollBar}">
                            <Grid x:Name="Bg"
                                  Background="{TemplateBinding Background}"
                                  SnapsToDevicePixels="true">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition MaxWidth="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}}" />
                                    <ColumnDefinition Width="0.00001*" />
                                    <ColumnDefinition MaxWidth="{DynamicResource {x:Static SystemParameters.HorizontalScrollBarButtonWidthKey}}" />
                                </Grid.ColumnDefinitions>
                                <RepeatButton Command="{x:Static ScrollBar.LineLeftCommand}"
                                              IsEnabled="{TemplateBinding IsMouseOver}" />
                                <Track x:Name="PART_Track"
                                       Grid.Column="1"
                                       IsEnabled="{TemplateBinding IsMouseOver}">
                                    <Track.DecreaseRepeatButton>
                                        <RepeatButton Command="{x:Static ScrollBar.PageLeftCommand}"
                                                      Style="{StaticResource HorizontalScrollBarPageButton}" />
                                    </Track.DecreaseRepeatButton>
                                    <Track.IncreaseRepeatButton>
                                        <RepeatButton Command="{x:Static ScrollBar.PageRightCommand}"
                                                      Style="{StaticResource HorizontalScrollBarPageButton}" />
                                    </Track.IncreaseRepeatButton>
                                    <Track.Thumb>
                                        <Thumb Style="{StaticResource ScrollBarThumb}" />
                                    </Track.Thumb>
                                </Track>
                                <RepeatButton Grid.Column="2"
                                              Command="{x:Static ScrollBar.LineRightCommand}"
                                              IsEnabled="{TemplateBinding IsMouseOver}" />
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="ComboBoxToggleButton"
           TargetType="{x:Type ToggleButton}">
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="IsTabStop" Value="false" />
        <Setter Property="Focusable" Value="false" />
        <Setter Property="ClickMode" Value="Press" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ToggleButton}">
                    <Border HorizontalAlignment="Stretch"
                            Background="Transparent"
                            SnapsToDevicePixels="true">
                        <Grid Width="17"
                              HorizontalAlignment="Right">
                            <Path Margin="0,1,0,0"
                                  HorizontalAlignment="Center"
                                  VerticalAlignment="Center"
                                  Data="M 0 0 L 3.5 4 L 7 0 Z"
                                  Fill="White" />
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="ComboBoxDarkStyle"
           TargetType="{x:Type ComboBox}">
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
        <Setter Property="Padding" Value="4,3" />
        <Setter Property="ScrollViewer.CanContentScroll" Value="true" />
        <Setter Property="ScrollViewer.PanningMode" Value="Both" />
        <Setter Property="Stylus.IsFlicksEnabled" Value="False" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ComboBox}">
                    <Border HorizontalAlignment="Stretch"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{StaticResource ButtonBorderBrush}"
                            BorderThickness="1"
                            CornerRadius="1">
                        <Grid x:Name="MainGrid"
                              SnapsToDevicePixels="true">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="0"
                                                  MinWidth="{DynamicResource {x:Static SystemParameters.VerticalScrollBarWidthKey}}" />
                            </Grid.ColumnDefinitions>
                            <Popup x:Name="PART_Popup"
                                   Grid.ColumnSpan="2"
                                   Margin="1"
                                   AllowsTransparency="true"
                                   IsOpen="{Binding IsDropDownOpen,
                                                    RelativeSource={RelativeSource TemplatedParent}}"
                                   Placement="Bottom"
                                   PopupAnimation="{DynamicResource {x:Static SystemParameters.ComboBoxPopupAnimationKey}}">
                                <Border x:Name="DropDownBorder"
                                        Width="{Binding ActualWidth,
                                                        ElementName=MainGrid}"
                                        HorizontalAlignment="Stretch"
                                        BorderBrush="{StaticResource ButtonBorderBrush}"
                                        BorderThickness="1">
                                    <ScrollViewer x:Name="DropDownScrollViewer">
                                        <Grid RenderOptions.ClearTypeHint="Enabled">
                                            <Canvas Width="0"
                                                    Height="0"
                                                    HorizontalAlignment="Left"
                                                    VerticalAlignment="Top">
                                                <Rectangle x:Name="OpaqueRect"
                                                           Width="{Binding ActualWidth,
                                                                           ElementName=DropDownBorder}"
                                                           Height="{Binding ActualHeight,
                                                                            ElementName=DropDownBorder}"
                                                           Fill="{Binding Background,
                                                                          ElementName=DropDownBorder}" />
                                            </Canvas>
                                            <ItemsPresenter x:Name="ItemsPresenter"
                                                            KeyboardNavigation.DirectionalNavigation="Contained"
                                                            SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                        </Grid>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                            <ToggleButton Grid.ColumnSpan="2"
                                          HorizontalAlignment="Stretch"
                                          BorderBrush="{TemplateBinding BorderBrush}"
                                          IsChecked="{Binding IsDropDownOpen,
                                                              Mode=TwoWay,
                                                              RelativeSource={RelativeSource TemplatedParent}}"
                                          Style="{StaticResource ComboBoxToggleButton}" />
                            <ContentPresenter Margin="13,3,4,3"
                                              HorizontalAlignment="Left"
                                              VerticalAlignment="Center"
                                              Content="{TemplateBinding SelectionBoxItem}"
                                              ContentStringFormat="{TemplateBinding SelectionBoxItemStringFormat}"
                                              ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                              ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                              IsHitTestVisible="false"
                                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                        </Grid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style TargetType="{x:Type ComboBoxItem}">
        <Setter Property="OverridesDefaultStyle" Value="true" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ComboBoxItem">
                    <Border x:Name="PART_Border"
                            Background="{StaticResource AchievementDarkBackground}"
                            Padding="12,6,0,6">
                        <ContentPresenter />
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsHighlighted" Value="true">
                            <Setter TargetName="PART_Border" Property="Background" Value="{StaticResource AchievementTabItemSelectedBackground}" />
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>